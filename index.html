<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Interactive Birthday Letter</title>

<style>
/* --- BODY & BACKGROUND --- */
body{
  margin:0;
  padding:0;
  font-family:"Poppins",sans-serif;
  background:url('backgroundimage1.png') center/cover no-repeat fixed;
  overflow:hidden;
}

/* --- PASSKEY SCREEN --- */
#lockScreen{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,0.85);
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  color:white;
  z-index:100;
}
#passkey{
  padding:12px;
  border-radius:10px;
  border:none;
  width:200px;
  margin-top:15px;
}
#unlockBtn{
  margin-top:15px;
  padding:12px 25px;
  border:none;
  border-radius:12px;
  background:white;
  color:#d62828;
  font-weight:bold;
  cursor:pointer;
}

/* --- CONTAINER --- */
.container{
  position:absolute;
  top:50%;
  left:50%;
  transform:translate(-50%,-50%);
  text-align:center;
  display:none;
}

/* --- ENVELOPE --- */
.envelope{
  width:260px;
  height:180px;
  background:#d62828;
  position:relative;
  border-radius:12px;
  overflow:hidden;
  box-shadow:0 8px 20px rgba(0,0,0,0.5);
}
.flap{
  position:absolute;
  top:0;
  width:100%;
  height:100%;
  background:#b21f1f;
  clip-path:polygon(0 0,100% 0,50% 50%);
  transform-origin:top;
  transition:1s;
}

/* --- OPEN BUTTON --- */
.open-btn{
  margin-top:15px;
  padding:10px 20px;
  border-radius:25px;
  border:none;
  background:white;
  color:#d62828;
  font-weight:bold;
  cursor:pointer;
  animation:bounce 1.5s infinite;
}
@keyframes bounce{
  0%,100%{transform:translateY(0);}
  50%{transform:translateY(-6px);}
}

/* --- LETTER --- */
.letter{
  width:220px;
  max-height:300px;
  background:white;
  padding:15px;
  border-radius:8px;
  position:absolute;
  left:50%;
  transform:translate(-50%,40px);
  opacity:0;
  overflow-y:auto;
  transition:0.5s;
}
.letter.show{
  opacity:1;
  transform:translate(-50%,-250px);
}
.letter img{
  width:100%;
  border-radius:8px;
}

/* --- BUTTONS --- */
.reply-btn, .wa-btn{
  margin-top:10px;
  padding:10px 20px;
  border-radius:25px;
  border:2px solid white;
  background:transparent;
  color:white;
  cursor:pointer;
  display:none;
}

/* --- EMOJIS --- */
.emoji{
  position:fixed;
  font-size:28px;
  animation:pop 2s forwards;
}
@keyframes pop{
  0%{opacity:1; transform:scale(0);}
  100%{opacity:0; transform:scale(1.5) translateY(-150px);}
}

/* --- CONFETTI --- */
.confetti{
  position:fixed;
  font-size:22px;
  animation:fall 3s linear forwards;
}
@keyframes fall{
  from{transform:translateY(0);}
  to{transform:translateY(100vh) rotate(360deg);}
}

/* ================= COMMENTS ================= */
.comments-section{
  margin-top:30px;
  background:rgba(255,255,255,0.15);
  backdrop-filter:blur(8px);
  padding:20px;
  border-radius:15px;
  width:280px;
  color:white;
}

.comments-section h3{
  margin-bottom:10px;
}

.comments-section input,
.comments-section textarea{
  width:100%;
  padding:10px;
  border-radius:10px;
  border:none;
  margin-bottom:10px;
}

.comments-section textarea{
  resize:none;
  height:70px;
}

.comments-section button{
  width:100%;
  padding:10px;
  border-radius:20px;
  border:none;
  background:white;
  color:#d62828;
  font-weight:bold;
  cursor:pointer;
}

#commentsList{
  margin-top:15px;
  max-height:200px;
  overflow-y:auto;
}

.comment{
  background:white;
  color:#333;
  padding:10px;
  border-radius:10px;
  margin-bottom:10px;
}
.comment strong{color:#d62828;}
</style>
</head>

<body>

<audio id="bgMusic" src="music.mp3" loop></audio>

<!-- PASSKEY -->
<div id="lockScreen">
  <h2>Enter Passkey üíò</h2>
  <input id="passkey" type="password">
  <button id="unlockBtn" onclick="unlock()">Unlock</button>
  <p>Hint ‚ù§: LOVE</p>
</div>

<div class="container" id="container">

  <div class="envelope">
    <div class="flap" id="flap"></div>
  </div>

  <button class="open-btn" id="openBtn" onclick="openLetter()">Open üéÅ</button>

  <div class="letter" id="letter">
    <img src="picture.png">
    <p id="typedText"></p>
  </div>

  <button class="reply-btn" id="reply" onclick="location.reload()">Replay üíå</button>
  <button class="wa-btn" id="waShare" onclick="shareWhatsApp()">Share WhatsApp üí¨</button>

  <!-- COMMENTS -->
  <div class="comments-section">
    <h3>üéÇ Birthday Wishes</h3>
    <input type="text" id="userName" placeholder="Your name">
    <textarea id="userComment" placeholder="Write your wish..."></textarea>
    <button onclick="addComment()">Send Wish üíñ</button>
    <div id="commentsList"></div>
  </div>

</div>

<script>
let opened=false;
let msg=`Dear Big Brother,
Happy Birthday sir! üéâüíô
Thank you for everything.
May God bless you with long life, peace and success.`;
let index=0;

function unlock(){
  if(passkey.value==="LOVE"){
    lockScreen.style.display="none";
    container.style.display="block";
    bgMusic.play().catch(()=>{});
  } else alert("Wrong passkey ‚ùå");
}

function openLetter(){
  if(opened) return;
  opened=true;

  flap.style.transform="rotateX(180deg)";
  openBtn.style.display="none";

  setTimeout(()=>{
    letter.classList.add("show");
    reply.style.display="inline-block";
    waShare.style.display="inline-block";
    typeWriter();
    setInterval(burstEmojis,600);
    setInterval(burstConfetti,300);
  },500);
}

function typeWriter(){
  if(index<msg.length){
    typedText.innerHTML+=msg.charAt(index++);
    setTimeout(typeWriter,45);
  }
}

function burstEmojis(){
  let e=["üéâ","üíô","ü•≥","üéÇ"];
  let d=document.createElement("div");
  d.className="emoji";
  d.innerHTML=e[Math.floor(Math.random()*e.length)];
  d.style.left=Math.random()*window.innerWidth+"px";
  d.style.top=window.innerHeight+"px";
  document.body.appendChild(d);
  setTimeout(()=>d.remove(),2000);
}

function burstConfetti(){
  let c=document.createElement("div");
  c.className="confetti";
  c.innerHTML="üéä";
  c.style.left=Math.random()*window.innerWidth+"px";
  c.style.top="-20px";
  document.body.appendChild(c);
  setTimeout(()=>c.remove(),3000);
}

function addComment(){
  let n=userName.value.trim();
  let t=userComment.value.trim();
  if(!n||!t) return alert("Fill all fields ‚ù§");

  let d=document.createElement("div");
  d.className="comment";
  d.innerHTML=<strong>${n}</strong><br>${t};
  commentsList.prepend(d);

  userName.value="";
  userComment.value="";
}

function shareWhatsApp(){
  let text=encodeURIComponent("Happy Birthday üéâüíô Check this out:");
  let url=encodeURIComponent(location.href);
  window.open("https://wa.me/?text="+text+" "+url,"_blank");
}
</script>

</body>
</html>
